# Test    eval(parse(text=paste0("text", var, "text")))
indicator <- "GDP_Capita"
scenarioname <- "Baseline"
df_Graph <- eval(parse(text=paste0(
"filter(df_all, VARIABLE==", indicator, ", SCENARIO %in% c('Historical',", scenarioname,")) %% select(-c('MODEL','UNIT','VARIABLE'))")))
df_Graph_tmp <- eval(parse(text=paste0("rename(df_Graph_tmp,", indicator, "=Value)")))
df_Graph_tmp <- df_Graph_tmp[order(df_Graph_tmp$Year),]
df_forMerge <- merge(df_forMerge, df_Graph_tmp)
View(df_forMerge)
}
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
rlang::last_error()
rlang::last_trace()
df_Graph <- eval(parse(text=paste0(
"filter(df_all, VARIABLE==", indicator, ", SCENARIO %in% c('Historical',", scenarioname,"))")))
# Test    eval(parse(text=paste0("text", var, "text")))
indicator <- "GDP_Capita"
scenarioname <- "Baseline"
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname))
df_Graph <- eval(parse(text=paste0("select(-c('MODEL','UNIT','VARIABLE'))")))")))
df_Graph_tmp <- eval(parse(text=paste0("rename(df_Graph_tmp,", indicator, "=Value)")))
df_Graph_tmp <- df_Graph_tmp[order(df_Graph_tmp$Year),]
df_forMerge <- merge(df_forMerge, df_Graph_tmp)
View(df_forMerge)
}
# グラフ描画 by XYのテキスト指定
for (num in 1:length(x_names)) {
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,21))")))
plot(g)
filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num])
ggsave(file=paste("./../4_output/",filename,".png"))
}
df_Graph <- eval(parse(text=paste0("select(-c('MODEL','UNIT','VARIABLE'))")))
View(df_past)
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname))
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)) %% select(-c('MODEL','UNIT','VARIABLE'))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)
) %% select('SCENARIO','REGION')
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)) %% select("SCENARIO","REGION")
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)) %>% select("SCENARIO","REGION")
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)) %>% select(-c('MODEL','UNIT','VARIABLE'))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
rlang::last_error()
rlang::last_trace()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
#Packages------------------------------------------------------
# update.packages("ggplot2")
library(ggplot2)
# update.packages("tidyverse")
library(tidyverse)
getwd()
# データの読み込み---------------------------------------------------------------
df_past <- read_csv("./../2_data/REF2/IAMCTemplate_i_past.csv")
df_future <- read_csv("./../2_data/REF2/IAMCTemplate_i_future.csv")
titlerow <- c("MODEL","SCENARIO","REGION","VARIABLE","UNIT")
df_all <- rbind(gather(df_past, key="Year", value="Value", -titlerow ),
gather(df_future, key="Year", value="Value", -titlerow )
) %>% mutate(SCENARIO=gsub("Reference","Historical",SCENARIO)
) %>% filter(MODEL != "MODEL"
) %>% na.omit()
df_all$Year <- as.numeric(df_all$Year)
view(df_all)
scenarionames <- c("Baseline","2C")    # c("Baseline","2C","1.5C","2.5C","WB2C")
indicators <- c("GDP_Capita",
"Electricity_Rate_Total","ChangeRate_Electricity_Rate_Total",
"Carbon_Intensity","ChangeRate_Carbon_Intensity",
"Energy_Intensity","ChangeRate_Energy_Intensity")
x_names <- c(rep("Year",length(indicators)),rep("GDP_Capita",length(indicators)-1))
y_names <- c(indicators,indicators[-1])
for (scenarioname in scenarionames) {
df_forMerge <- select(df_all, c("REGION","Year")) %>% distinct()
#  view(df_forMerge)
for (indicator in indicators) {
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)
) %>% select(-c('MODEL','UNIT','VARIABLE'))
df_Graph <- eval(parse(text=paste0("rename(df_Graph_tmp,", indicator, "=Value)")))
df_Graph <- df_Graph[order(df_Graph_tmp$Year),]
df_forMerge <- merge(df_forMerge, df_Graph)
View(df_forMerge)
# Test    eval(parse(text=paste0("text", var, "text")))
# indicator <- "GDP_Capita"
# scenarioname <- "Baseline"
}
# グラフ描画 by XYのテキスト指定
for (num in 1:length(x_names)) {
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,21))")))
plot(g)
filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num])
ggsave(file=paste("./../4_output/",filename,".png"))
}
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)
) %>% select(-c('MODEL','UNIT','VARIABLE'))
df_Graph <- eval(parse(text=paste0("rename(df_Graph,", indicator, "=Value)")))
df_Graph <- df_Graph[order(df_Graph$Year),]
df_forMerge <- merge(df_forMerge, df_Graph)
View(df_forMerge)
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
df_Graph <- filter(df_all, VARIABLE==indicator, SCENARIO %in% c('Historical',scenarioname)
) %>% select(-c('MODEL','UNIT','VARIABLE')
) %>% eval(parse(text=paste0("rename(", indicator, "=Value)")))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/test.R", encoding = 'UTF-8')
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
spec()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
df_all <- rbind(gather(df_past, key=as.numeric(df_past$Year), value="Value", -titlerow ),
gather(df_future, key=as.numeric(df_future$Year), value="Value", -titlerow )
) %>% mutate(SCENARIO=gsub("Reference","Historical",SCENARIO)
) %>% filter(MODEL != "MODEL"
) %>% na.omit()
rlang::last_error()
rlang::last_trace()
df_all <- rbind(gather(df_past, key=as.numeric(Year,df_past), value="Value", -titlerow ),
gather(df_future, key=as.numeric(Year,df_future), value="Value", -titlerow )
) %>% mutate(SCENARIO=gsub("Reference","Historical",SCENARIO)
) %>% filter(MODEL != "MODEL"
) %>% na.omit()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
rlang::last_error()
rlang::last_trace()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
#Packages------------------------------------------------------
# update.packages("ggplot2")
library(ggplot2)
# update.packages("tidyverse")
library(tidyverse)
getwd()
# データの読み込み---------------------------------------------------------------
df_past <- read_csv("./../2_data/REF2/IAMCTemplate_i_past.csv")
df_future <- read_csv("./../2_data/REF2/IAMCTemplate_i_future.csv")
df_countries <- read_csv("./../2_data/REF2/IAMCTemplate_out_countries.csv")
view(df_countries)
`spec()`
spec()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Region_Countries.R", encoding = 'UTF-8')
write_csv("./../2_data/REF2/IAMCTemplate_out_countries_written.csv")
write_csv(df_countries, "./../2_data/REF2/IAMCTemplate_out_countries_written.csv")
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Region_Countries.R", encoding = 'UTF-8')
all_of(titlerow)
df_countries <- read_csv("./../2_data/REF2/IAMCTemplate_out_countries.csv")
write_csv(df_countries, "./../2_data/REF2/IAMCTemplate_out_countries_written.csv")
view(df_countries)
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
x[c("one", "ten")]
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
x[c("Argentina", "Australia")]
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
x[c("Argentina", "Australia")]
x[Argentina]
x[Australia]
x[[Argentina]]
x[(Argentina)]
x[c(Argentina)]
x[c("Argentina")]
x <- c(1, 2, 3, 4, 5, 10)
coutry_names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
l_vlookup_CC$name <- df_CC$IEA_coutry_name
x
x[names(x)]
x[c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")]
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
x[c("Argentina", "Australia")]
x[c("Argentina")]
x[names(x)]
x[c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")]
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
x[c("Argentina", "Australia")]
x[c("Argentina")]
x[names(x)]
x[c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")]
names(x) <- c(
"Albania",
"Algeria",
"Angola",
"Argentina",
"Armenia",
"Australia"
)
x[c("Argentina", "Australia")]
names(x) <- c(
Albania,
Algeria,
Angola,
Argentina,
Armenia,
Australia
)
names(x) <- c(
'Albania',
'Algeria',
'Angola',
'Argentina',
'Armenia',
'Australia'
)
x[c("Argentina", "Australia")]
# 国コード照会
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(Cdf_C, 'IEA_coutry_name'='IEA国名')
view(df_CC)
#Packages------------------------------------------------------
# update.packages("ggplot2")
library(ggplot2)
# update.packages("tidyverse")
library(tidyverse)
# 各国ファイルの読み込み
df_CO2_fuel_Bio <- read_csv("./../2_data/REF/CO2_fuel_Bio.csv")
df_CO2_fuel_Bio <- rename(df_CO2_fuel_Bio, 'IEA_coutry_name'='X1')
# write_csv(df_CO2_fuel_Bio, "./../2_data/REF2/CO2_fuel_Bio_written.csv")
view(df_CO2_fuel_Bio)
unit <- read.delim(file="./../2_data/REF/unit.txt", header=T)
view(unit)
# 国コード照会
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(Cdf_C, 'IEA_coutry_name'='IEA国名')
view(df_CC)
Region_Code <- df_CC$AIM23
df_CC$AIM23
Region_Code <- df_CC$AIM23
# df_CC$AIM23
names(Region_Code) <- df_CC$IEA_coutry_name
# df_CC$IEA_coutry_name
Region_Code[names(Region_Code)]
x <- c(1, 2, 3, 4, 5, 10)
names(x) <- c("Albania", "Algeria", "Angola", "Argentina", "Armenia", "Australia")
# 国コード照会
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(Cdf_C, 'IEA_coutry_name'='IEA国名')
# 国コード照会
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(Cdf_CC, 'IEA_coutry_name'='IEA国名')
# 国コード照会
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(df_CC, 'IEA_coutry_name'='IEA国名')
view(df_CC)
Region_Code <- df_CC$AIM23
df_CC$AIM23
names(Region_Code) <- df_CC$IEA_coutry_name
df_CC$IEA_coutry_name
Region_Code[names(Region_Code)]
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
# テスト画面
pdf(file=paste("./../4_output/figures_test.pdf"))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
df_forMerge
View(df_forMerge)
# テスト画面
pdf(file=paste("./../4_output/figures_test.pdf"))
for (num in length(x_names)) {
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
# par(mfrow = c(4, 4))  # 効かない、指定場所が違う？
plot(g)
# filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num], sep="")
# ggsave(file=paste("./../4_output/",filename,".png"))
}
View(df_forMerge)
# テスト画面
pdf(file=paste("./../4_output/figures_test.pdf"))
for (num in length(x_names)) {
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
# par(mfrow = c(4, 4))  # 効かない、指定場所が違う？
plot(g)
# filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num], sep="")
# ggsave(file=paste("./../4_output/",filename,".png"))
}
dev.off()
pdf(file=paste("./../4_output/figures_test.pdf"))
View(df_forMerge)
for (num in length(x_names)) {
num
}
dev.off()
# テスト画面
pdf(file=paste("./../4_output/figures_test.pdf"))
View(df_forMerge)
for (num in length(x_names)) {
num
}
dev.off()
for (num in length(x_names)) {
View(num)
}
for (num in length(x_names)) {
View(num,x_names[num],y_names[num])
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
# par(mfrow = c(4, 4))  # 効かない、指定場所が違う？
plot(g)
# filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num], sep="")
# ggsave(file=paste("./../4_output/",filename,".png"))
}
View(num,x_names[num],y_names[num])
View(df_forMerge)
for (num in length(x_names)) {
View(num,x_names[num],y_names[num])
}
for (num in length(x_names)) {
View(num)
View(x_names[num])
View(y_names[num])
for (num in length(x_names)) {
View(num)
View(x_names[num])
View(y_names[num])
}
View(num)
View(x_names[num])
View(y_names[num])
for (num in length(x_names)) {
View(num)
View(x_names[num])
View(y_names[num])
}
View(x_names[19])
x_names <- c(rep("Year",length(indicators)),
rep("GDP_Capita",length(indicators)-1),
rep("REGION",length(indicators)-1)
)
y_names <- c(indicators,
indicators[-1],
indicators[-1])
for (num in length(x_names)) {
View(num)
View(x_names[19])
View(y_names[num])
}
# View(x_names[19])
# View(y_names[num])
}
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=","REGION",",y=","ChangeRate_Electricity_Rate_Total"
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
"ggplot(df_forMerge, aes(x=","REGION",",y=","ChangeRate_Electricity_Rate_Total
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=","REGION",",y=","ChangeRate_Electricity_Rate_Total",
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
for (num in length(x_names)) {
View(num)
# View(x_names[19])
# View(y_names[num])
}
for (num in length(x_names)) {
g <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=","REGION",",y=","ChangeRate_Electricity_Rate_Total",
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
# par(mfrow = c(4, 4))  # 効かない、指定場所が違う？
plot(g)
# filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num], sep="")
# ggsave(file=paste("./../4_output/",filename,".png"))
}
# dev.off()
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
(num%%4)+1
num
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
p1
print(p1)
#Packages------------------------------------------------------
# update.packages("ggplot2")
library(ggplot2)
# update.packages("tidyverse")
library(tidyverse)
# update.packages("patchwork")
library(patchwork)
print(p1)
print(p)
p1 <- eval(parse(text=paste0(
"ggplot(df_forMerge, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION,shape=SCENARIO)) +
geom_line() +
geom_point() +
scale_shape_manual(values=c(19,2))")))
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
.GlobalEnv　
ls(pos = .GlobalEnv)
p
p1
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
# update.packages("tidyverse")
library(patchwork)
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
#Packages------------------------------------------------------
# update.packages("ggplot2")
library(ggplot2)
# update.packages("tidyverse")
library(tidyverse)
# update.packages("patchwork")
library(patchwork)
# 一時退避（ここから）（次工程で使う）
# 過去ファイル（IEA形式、各国毎）の読み込み＞ファイル名でloopさせて追加書きする予定
df_CO2_fuel_Bio <- read_csv("./../2_data/REF/CO2_fuel_Bio.csv")
df_CO2_fuel_Bio <- rename(df_CO2_fuel_Bio, 'IEA_coutry_name'='X1')
# write_csv(df_CO2_fuel_Bio, "./../2_data/REF2/CO2_fuel_Bio_written.csv")
view(df_CO2_fuel_Bio)
# 単位の連想配列＞ファイル名にマッチさせる予定
df_unit <- read.delim(file="./../2_data/REF/unit.txt", header=T)
view(df_unit)
Unit_of_Var        <- df_unit$unit
names(Unit_of_Var) <- df_unit$filename
# 国コードの連想配列
df_CC <- read.delim(file="./../2_data/REF/CC.txt", header=T)
df_CC <- rename(df_CC, 'IEA_coutry_name'='IEA国名')
view(df_CC)
Region_Code        <- df_CC$AIM17
names(Region_Code) <- df_CC$IEA_coutry_name
# IEAデータ（整形済）読み込み
df_countries <- read_csv("./../2_data/REF2/IAMCTemplate_out_countries.csv")
view(df_countries)
# 国コード付与
df_countries <- mutate(df_countries, AIM17=Region_Code[df_countries$REGION]
) %>% rename('IEA_coutry_name'='REGION'
) %>% rename('REGION'='AIM17')
select(df_countries,'IEA_coutry_name','REGION')
df_past <- df_countries
df_future <- read_csv("./../2_data/REF2/IAMCTemplate_i_future.csv")
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators_from_2files.R", encoding = 'UTF-8')
select(df_countries,'IEA_coutry_name','REGION')
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Indicators.R", encoding = 'UTF-8')
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Region_Countries.R", encoding = 'UTF-8')
# 項目指定出力
scenarioname <- 'Multi'
x_names <- c(
'Energy_Intensity_scaled', 'TES_Total_scaled', 'GDP_IEA_scaled',
'Carbon_Intensity_scaled', 'CO2_fuel_Total_scaled', 'TES_Total_scaled',
'Electricity_Rate_Total_scaled', 'TFC_Elec_Total_scaled', 'TFC_Total_Total_scaled',
'Year')
y_names <- c(rep('ChangeRate_Energy_Intensity',3),
rep('ChangeRate_Carbon_Intensity',3),
rep('ChangeRate_Electricity_Rate_Total',3),
'ChangeRate_Carbon_Intensity')
for (dummyloop in 1) { # XY散布図 by 17地域 vs 17地域
library(RColorBrewer)
scenario_color <- c(brewer.pal(5,"Dark2"),brewer.pal(8,"Accent"),brewer.pal(4,"Set1"))
df_Graph_plotXY <- df_Graph_plot
# df_Graph_plotXY <- df_Graph_plot %>% filter(SCENARIO!='Historical')
# df_Graph_plotXY_His <- df_Graph_plotXY %>% filter(SCENARIO=='Historical_R17')
# write_csv(df_Graph_plotXY, "./df_Graph_plotXY_written.csv")
# write_csv(df_Graph_plotXY_His, "./df_Graph_plotXY_His_written.csv")
pdf(file=paste("./",scenarioname,"_XY_item.pdf", sep=""))
for (num in 1:length(x_names)) { #num
g <- eval(parse(text=paste0(
"ggplot(df_Graph_plotXY, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION, shape=SCENARIO)) +
geom_point() +
#             geom_line() +
#             ylim(",-0.5, ", ",1, ") +
scale_color_manual(values=c(rep(scenario_color,3))) +
scale_shape_manual(values=c(19,21,22,23,24,25,1))"))) # SCENARIO数
plot(g)
filename <- paste(scenarioname,num,"_",x_names[num],"-",y_names[num], sep="")
# ggsave(file=paste("./png/R17_",filename,".png", sep=""), width=5, height=4, dpi=100)
for (dummyloop in 1) { while(0)
small <- 0.01
x_axis_min <- min(eval(parse(text=paste0("df_Graph_plotXY$",x_names[num]))), na.rm=T)*(1-small)
y_axis_min <- min(eval(parse(text=paste0("df_Graph_plotXY$",y_names[num]))), na.rm=T)*(1-small)
x_axis_max <- max(eval(parse(text=paste0("df_Graph_plotXY$",x_names[num]))), na.rm=T)*(1+small)
y_axis_max <- max(eval(parse(text=paste0("df_Graph_plotXY$",y_names[num]))), na.rm=T)*(1+small)
g <- eval(parse(text=paste0(
"ggplot(df_Graph_plotXY, aes(x=",x_names[num],",y=",y_names[num],
",color=REGION, shape=SCENARIO)) +
geom_point() +
#              geom_line() +
#             xlim(",x_axis_min, ", ",x_axis_max, ") +
#             ylim(",y_axis_min, ", ",y_axis_max, ") +
ylim(",-0.5, ", ",0.5, ") +
scale_color_manual(values=c(rep(scenario_color,3))) +
scale_shape_manual(values=c(19,21,22,23,24,25,1))"))) # SCENARIO数
plot(g)
}
} #num
dev.off()
} # XY散布図 by 17地域 vs 17地域
source("C:/_Nishimoto/R/WBAL_R02/3_prog/Plot_Region_Countries.R", encoding = 'UTF-8')
